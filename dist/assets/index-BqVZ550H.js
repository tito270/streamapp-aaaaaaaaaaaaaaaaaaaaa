const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AllBitrateGraph-DHdJse5e.js","assets/vendor-CpTo-NVH.js","assets/vendor-recharts-C1DVHSy2.js"])))=>i.map(i=>d[i]);
import{r as o,ab as ts,h as ss,ac as e,ad as qe,ae as Ge,af as Ie,ag as Ke,ah as Xe,ai as _e,aj as Qe,ak as Ye,al as as,am as rs,an as os,ao as Ze,ap as ns,aq as is,R as Me,ar as ls,as as Be,at as cs,au as ds,av as us,aw as ms,ax as fs,ay as et,az as ps,aA as tt,aB as hs,aC as st,aD as at,aE as rt,aF as ot,aG as nt,aH as it,aI as gs,aJ as lt,aK as ct,aL as xs,aM as ys,aN as dt,aO as bs,aP as ut,aQ as mt,aR as ws,aS as ft,aT as vs,aU as pt,aV as js,aW as ht,aX as gt,aY as Ns,aZ as Ss,a_ as xt,a$ as Cs,b0 as Rs,b1 as yt,b2 as ks,b3 as bt,b4 as $s,b5 as wt,b6 as vt,b7 as Ts,b8 as jt,b9 as Nt,ba as As,bb as St,bc as Es,bd as Ct,be as Rt,bf as kt,bg as $t,bh as Tt,bi as Ls,bj as Ps,bk as Us,bl as Ds,bm as Os,bn as Is,bo as _s,bp as Ms,bq as zs,br as Fs,bs as Bs,bt as Hs,bu as Vs,bv as Ws,bw as Js,bx as qs,by as Ne,bz as Gs}from"./vendor-CpTo-NVH.js";import{H as le}from"./vendor-hls-BrXwcWa8.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const g of n)if(g.type==="childList")for(const b of g.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&l(b)}).observe(document,{childList:!0,subtree:!0});function a(n){const g={};return n.integrity&&(g.integrity=n.integrity),n.referrerPolicy&&(g.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?g.credentials="include":n.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function l(n){if(n.ep)return;n.ep=!0;const g=a(n);fetch(n.href,g)}})();const Ks=1,Xs=1e6;let Pe=0;function Qs(){return Pe=(Pe+1)%Number.MAX_SAFE_INTEGER,Pe.toString()}const Ue=new Map,He=t=>{if(Ue.has(t))return;const s=setTimeout(()=>{Ue.delete(t),ue({type:"REMOVE_TOAST",toastId:t})},Xs);Ue.set(t,s)},Ys=(t,s)=>{switch(s.type){case"ADD_TOAST":return{...t,toasts:[s.toast,...t.toasts].slice(0,Ks)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(a=>a.id===s.toast.id?{...a,...s.toast}:a)};case"DISMISS_TOAST":{const{toastId:a}=s;return a?He(a):t.toasts.forEach(l=>{He(l.id)}),{...t,toasts:t.toasts.map(l=>l.id===a||a===void 0?{...l,open:!1}:l)}}case"REMOVE_TOAST":return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==s.toastId)}}},Ce=[];let Re={toasts:[]};function ue(t){Re=Ys(Re,t),Ce.forEach(s=>{s(Re)})}function Zs({...t}){const s=Qs(),a=n=>ue({type:"UPDATE_TOAST",toast:{...n,id:s}}),l=()=>ue({type:"DISMISS_TOAST",toastId:s});return ue({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:n=>{n||l()}}}),{id:s,dismiss:l,update:a}}function ze(){const[t,s]=o.useState(Re);return o.useEffect(()=>(Ce.push(s),()=>{const a=Ce.indexOf(s);a>-1&&Ce.splice(a,1)}),[t]),{...t,toast:Zs,dismiss:a=>ue({type:"DISMISS_TOAST",toastId:a})}}function p(...t){return ts(ss(t))}const ea=as,At=o.forwardRef(({className:t,...s},a)=>e.jsx(qe,{ref:a,className:p("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...s}));At.displayName=qe.displayName;const ta=Ie("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Et=o.forwardRef(({className:t,variant:s,...a},l)=>e.jsx(Ge,{ref:l,className:p(ta({variant:s}),t),...a}));Et.displayName=Ge.displayName;const sa=o.forwardRef(({className:t,...s},a)=>e.jsx(Ke,{ref:a,className:p("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...s}));sa.displayName=Ke.displayName;const Lt=o.forwardRef(({className:t,...s},a)=>e.jsx(Xe,{ref:a,className:p("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...s,children:e.jsx(_e,{className:"h-4 w-4"})}));Lt.displayName=Xe.displayName;const Pt=o.forwardRef(({className:t,...s},a)=>e.jsx(Qe,{ref:a,className:p("text-sm font-semibold",t),...s}));Pt.displayName=Qe.displayName;const Ut=o.forwardRef(({className:t,...s},a)=>e.jsx(Ye,{ref:a,className:p("text-sm opacity-90",t),...s}));Ut.displayName=Ye.displayName;function aa(){const{toasts:t}=ze();return e.jsxs(ea,{children:[t.map(function({id:s,title:a,description:l,action:n,...g}){return e.jsxs(Et,{...g,children:[e.jsxs("div",{className:"grid gap-1",children:[a&&e.jsx(Pt,{children:a}),l&&e.jsx(Ut,{children:l})]}),n,e.jsx(Lt,{})]},s)}),e.jsx(At,{})]})}const ra=({...t})=>{const{theme:s="system"}=rs();return e.jsx(os,{theme:s,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},oa=ns,na=o.forwardRef(({className:t,sideOffset:s=4,...a},l)=>e.jsx(Ze,{ref:l,sideOffset:s,className:p("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a}));na.displayName=Ze.displayName;const ia="modulepreload",la=function(t){return"/"+t},Ve={},ca=function(s,a,l){let n=Promise.resolve();if(a&&a.length>0){let _=function(k){return Promise.all(k.map($=>Promise.resolve($).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const b=document.querySelector("meta[property=csp-nonce]"),w=b?.nonce||b?.getAttribute("nonce");n=_(a.map(k=>{if(k=la(k),k in Ve)return;Ve[k]=!0;const $=k.endsWith(".css"),T=$?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${k}"]${T}`))return;const A=document.createElement("link");if(A.rel=$?"stylesheet":ia,$||(A.as="script"),A.crossOrigin="",A.href=k,w&&A.setAttribute("nonce",w),document.head.appendChild(A),$)return new Promise((M,f)=>{A.addEventListener("load",M),A.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${k}`)))})}))}function g(b){const w=new Event("vite:preloadError",{cancelable:!0});if(w.payload=b,window.dispatchEvent(w),!w.defaultPrevented)throw b}return n.then(b=>{for(const w of b||[])w.status==="rejected"&&g(w.reason);return s().catch(g)})},me=o.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:p("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s}));me.displayName="Card";const da=o.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:p("flex flex-col space-y-1.5 p-6",t),...s}));da.displayName="CardHeader";const ua=o.forwardRef(({className:t,...s},a)=>e.jsx("h3",{ref:a,className:p("text-2xl font-semibold leading-none tracking-tight",t),...s}));ua.displayName="CardTitle";const ma=o.forwardRef(({className:t,...s},a)=>e.jsx("p",{ref:a,className:p("text-sm text-muted-foreground",t),...s}));ma.displayName="CardDescription";const ke=o.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:p("p-6 pt-0",t),...s}));ke.displayName="CardContent";const fa=o.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:p("flex items-center p-6 pt-0",t),...s}));fa.displayName="CardFooter";const Fe=Ie("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),I=o.forwardRef(({className:t,variant:s,size:a,asChild:l=!1,...n},g)=>{const b=l?is:"button";return e.jsx(b,{className:p(Fe({variant:s,size:a,className:t})),ref:g,...n})});I.displayName="Button";const pa=t=>{const[s,a]=o.useState({left:0,right:0}),l=o.useRef(null),n=o.useRef(null),g=o.useRef(null),b=o.useRef(0);return o.useEffect(()=>{const w=t.current;if(!w)return;const _=()=>{l.current||(l.current=new(window.AudioContext||window.webkitAudioContext));const $=l.current,T=$.createMediaElementSource(w),A=$.createChannelSplitter(2),M=$.createChannelMerger(2);n.current=$.createAnalyser(),g.current=$.createAnalyser();const f=n.current,v=g.current;f.fftSize=32,v.fftSize=32,T.connect(A),A.connect(f,0),A.connect(v,1),f.connect(M,0,0),v.connect(M,0,1),M.connect($.destination);const N=new Uint8Array(f.frequencyBinCount),L=new Uint8Array(v.frequencyBinCount),z=()=>{f.getByteFrequencyData(N),v.getByteFrequencyData(L);const q=N.reduce((B,P)=>B+P,0)/N.length/255,H=L.reduce((B,P)=>B+P,0)/L.length/255;a({left:q,right:H}),b.current=requestAnimationFrame(z)};z()},k=()=>{cancelAnimationFrame(b.current),l.current&&l.current.state!=="closed"&&(l.current.close(),l.current=null)};return w.oncanplay=()=>{l.current&&l.current.state==="suspended"&&l.current.resume()},_(),k},[t]),s},We=({level:t,className:s})=>{const a=`${Math.min(100,t*100)}%`;let l="#2cd40bff";return t>=.8?l="#f87171":t>=.9&&(l="#fde047"),e.jsxs("div",{className:p("relative w-full h-20 overflow-hidden rounded",s),children:[e.jsx("div",{className:"absolute inset-0 z-0",style:{background:`
    linear-gradient(to top, 
      #15803d 0%, #15803d 60%, 
      #b45309 60%, #b45309 80%, 
      #991b1b 80%, #991b1b 100%)
  `,filter:"blur(0.5px) saturate(50%)",opacity:.5}}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 z-10",style:{height:a,transition:"height 0.01 s ease-out",backgroundColor:l}})]})},ha=({leftLevel:t,rightLevel:s,className:a})=>e.jsxs("div",{className:p("flex items-end gap-1 p-1 rounded-lg",a),children:[e.jsx(We,{level:t,className:"w-1.5"}),e.jsx(We,{level:s,className:"w-1.5"})]}),ga="http://192.168.1.98:3001".replace(/\/+$/,"")||`${window.location.protocol}//${window.location.hostname}:3001`,Dt="http://192.168.1.98:8000".replace(/\/+$/,"")||`${window.location.protocol}//${window.location.hostname}:8000`,xa=t=>{try{const s=Dt||`${window.location.protocol}//${window.location.host}`,a=new URL(t,s),l=new URL(s).host;return a.pathname.startsWith("/live/")&&a.host===l}catch{return!1}},ya=t=>{const s=Date.now().toString();try{const a=new URL(t,window.location.origin);return a.searchParams.set("cb",s),a.toString()}catch{const a=t.includes("?")?"&":"?";return`${t}${a}cb=${s}`}},ba=()=>({username:"default-user"}),wa=({streamId:t,streamName:s,streamUrl:a,resolution:l,onResolutionChange:n,onRemove:g,reloadSignal:b,status:w,onBitrateUpdate:_,className:k,canRemove:$=!0})=>{const T=o.useRef(null),A=o.useRef(null),M=o.useRef(null),[f,v]=o.useState(!1),[N,L]=o.useState(!0),[z,q]=o.useState(!1),[H,B]=o.useState(!0),[P,te]=o.useState(!1),[pe,G]=o.useState("online"),[he,ge]=o.useState(null),[Ae,xe]=o.useState([]),[ne,C]=o.useState(null),[ie,ye]=o.useState(!1),[be,we]=o.useState(0),se=pa(T);o.useRef(null),o.useRef(0);const ve=o.useRef(!1),U=o.useRef(null),ae=o.useRef(null),V=o.useCallback(x=>x.includes(".m3u8")?"HLS":x.startsWith("rtmp://")?"RTMP":x.startsWith("rtsp://")?"RTSP":x.startsWith("udp://")?"UDP":x.startsWith("http://")||x.startsWith("https://")?"HTTP":"Direct",[]),W=o.useCallback(x=>{q(!0),B(!1),x&&console.error(`[${t}] ${x}`)},[t]),re=o.useCallback(()=>we(x=>x+1),[]);o.useEffect(()=>{typeof b=="number"&&re()},[b,re]),o.useEffect(()=>{w||(ne&&ne>0?G("online"):G("offline"))},[w,ne]);const Y=o.useCallback(x=>{try{M.current&&(M.current.destroy(),M.current=null)}catch{}if(x)try{x.pause(),x.removeAttribute("src"),x.load()}catch{}},[]),K=o.useCallback(async()=>{const x=T.current;if(!x||!P)return;B(!0),q(!1),ve.current=!1,U.current&&clearTimeout(U.current),Y(x);let E=he||a;V(a);const J=!E.includes(".m3u8");if(J||!xa(E))try{const D=ba(),r=await(await fetch(`${ga}/start-stream`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({streamUrl:a,streamName:s,resolution:l,username:D?.username})})).text();let i;try{i=JSON.parse(r)}catch{}const u=i?.hlsAbsUrl||i?.hlsUrl||typeof r=="string"&&r.trim();if(u)E=u.startsWith("/")?`${Dt}${u}`:u;else throw new Error("Server did not return HLS URL")}catch(D){if(J)return W(`Failed to prepare server HLS proxy: ${D}`)}if(E=ya(E),le.isSupported()){const D=new le({enableWorker:!0,lowLatencyMode:!1});M.current=D,D.on(le.Events.FRAG_LOADED,(X,r)=>{ve.current=!0;const{frag:i}=r;if(i.stats&&i.duration){const u=i.stats.loaded*8/1e6/i.duration;isFinite(u)&&(_?.(t,u),w||G("online"),C(u))}}),D.on(le.Events.ERROR,(X,r)=>{r.fatal&&(console.error("HLS fatal error",r),W(`HLS Error: ${r.details}`))}),D.on(le.Events.MANIFEST_PARSED,()=>{B(!1),x.play().then(()=>v(!0)).catch(X=>W(`Playback failed: ${X}`))}),D.attachMedia(x),D.loadSource(E)}else if(x.canPlayType("application/vnd.apple.mpegurl")){x.src=E,x.load();const D=()=>{B(!1),x.play().then(()=>v(!0)).catch(X=>W(`Playback failed: ${X}`))};x.addEventListener("loadedmetadata",D,{once:!0})}else W("HLS is not supported, and no native HLS playback is available.")},[a,V,W,he,w,t,_,P,Y,s,l]);o.useEffect(()=>{const x=A.current;if(!x)return;const E=new IntersectionObserver(([J])=>{te(J.isIntersecting)},{threshold:.1});return E.observe(x),()=>E.disconnect()},[]),o.useEffect(()=>{P&&(ae.current&&(clearTimeout(ae.current),ae.current=null),M.current||K())},[P,K,Y]),o.useEffect(()=>{const x=localStorage.getItem("videoMuted")==="true";L(x);const E=T.current,J=U.current,D=ae.current;return()=>{Y(E),J&&clearTimeout(J),D&&clearTimeout(D)}},[be,Y]);const F=()=>{const x=T.current;x&&(f?(x.pause(),v(!1)):x.play().then(()=>v(!0)).catch(()=>q(!0)))},Ee=()=>{const x=T.current;if(!x)return;const E=!x.muted;x.muted=E,L(E),localStorage.setItem("videoMuted",String(E))},je=()=>{const x=T.current;x&&(document.fullscreenElement?document.exitFullscreen():x.requestFullscreen())};return e.jsxs(me,{ref:A,className:p("relative group overflow-hidden bg-gradient-card border-stream-border shadow-card",{"animate-border-blink":z},k),onMouseEnter:()=>ye(!0),onMouseLeave:()=>ye(!1),children:[$&&e.jsx(I,{onClick:g,variant:"destructive",size:"sm",className:"absolute top-2 right-2 z-10 opacity-0 group-hover:opacity-100",children:e.jsx(_e,{className:"h-4 w-4"})}),e.jsx("div",{className:p("absolute top-2 left-2 z-10 px-2 py-1 rounded text-xs font-mono flex items-center gap-2",w==="online"?"bg-green-600":w==="offline"?"bg-red-600":"bg-primary/90"),children:e.jsx("span",{className:"text-[10px] text-white ",children:w??pe})}),e.jsx(ha,{leftLevel:se.left,rightLevel:se.right,className:"absolute bottom-14 right-2 z-10"}),e.jsxs("div",{className:"relative h-57 w-25",children:[e.jsx("video",{ref:T,className:"w-full h-full object-cover bg-black",muted:N,playsInline:!0,controls:!1}),H&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-stream-bg",children:e.jsx("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin"})}),z&&e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-stream-bg text-destructive",children:[e.jsx(ls,{className:"h-8 w-8 mb-2"}),e.jsx("p",{className:"text-sm mb-4",children:"Failed to load stream"}),e.jsxs(I,{onClick:K,variant:"outline",size:"sm",children:[e.jsx(Be,{className:"h-4 w-4 mr-2"}),"Retry"]})]}),ie&&!z&&!H&&e.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center gap-4 bg-black/60 rounded-lg px-4 py-2",children:[e.jsx(I,{onClick:F,variant:"ghost",size:"sm",className:"text-white hover:bg-white/20",children:f?e.jsx(cs,{className:"h-4 w-4"}):e.jsx(ds,{className:"h-4 w-4"})}),e.jsx(I,{onClick:Ee,variant:"ghost",size:"sm",className:"text-white hover:bg-white/20",children:N?e.jsx(us,{className:"h-4 w-4"}):e.jsx(ms,{className:"h-4 w-4"})}),e.jsx(I,{onClick:je,variant:"ghost",size:"sm",className:"text-white hover:bg-white/20",children:e.jsx(fs,{className:"h-4 w-4"})}),e.jsx(I,{onClick:re,variant:"ghost",size:"sm",className:"text-white hover:bg-white/20",children:e.jsx(Be,{className:"h-4 w-4"})})]})}),e.jsx("div",{className:"p-3 bg-stream-bg border-t border-stream-border",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold truncate",children:s}),e.jsx("p",{className:"text-xs text-muted-foreground font-mono truncate",children:a})]})})})]})]})},va=Me.memo(wa),fe=o.forwardRef(({className:t,type:s,...a},l)=>e.jsx("input",{type:s,className:p("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:l,...a}));fe.displayName="Input";const ja=xs,Na=ys,Sa=o.forwardRef(({className:t,inset:s,children:a,...l},n)=>e.jsxs(et,{ref:n,className:p("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",t),...l,children:[a,e.jsx(ps,{className:"ml-auto h-4 w-4"})]}));Sa.displayName=et.displayName;const Ca=o.forwardRef(({className:t,...s},a)=>e.jsx(tt,{ref:a,className:p("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));Ca.displayName=tt.displayName;const Ot=o.forwardRef(({className:t,sideOffset:s=4,...a},l)=>e.jsx(hs,{children:e.jsx(st,{ref:l,sideOffset:s,className:p("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a})}));Ot.displayName=st.displayName;const It=o.forwardRef(({className:t,inset:s,...a},l)=>e.jsx(at,{ref:l,className:p("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",t),...a}));It.displayName=at.displayName;const Ra=o.forwardRef(({className:t,children:s,checked:a,...l},n)=>e.jsxs(rt,{ref:n,className:p("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:a,...l,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(ot,{children:e.jsx(nt,{className:"h-4 w-4"})})}),s]}));Ra.displayName=rt.displayName;const ka=o.forwardRef(({className:t,children:s,...a},l)=>e.jsxs(it,{ref:l,className:p("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(ot,{children:e.jsx(gs,{className:"h-2 w-2 fill-current"})})}),s]}));ka.displayName=it.displayName;const $a=o.forwardRef(({className:t,inset:s,...a},l)=>e.jsx(lt,{ref:l,className:p("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...a}));$a.displayName=lt.displayName;const Ta=o.forwardRef(({className:t,...s},a)=>e.jsx(ct,{ref:a,className:p("-mx-1 my-1 h-px bg-muted",t),...s}));Ta.displayName=ct.displayName;const De=Cs,Oe=Rs,$e=o.forwardRef(({className:t,children:s,...a},l)=>e.jsxs(dt,{ref:l,className:p("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...a,children:[s,e.jsx(bs,{asChild:!0,children:e.jsx(ut,{className:"h-4 w-4 opacity-50"})})]}));$e.displayName=dt.displayName;const _t=o.forwardRef(({className:t,...s},a)=>e.jsx(mt,{ref:a,className:p("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(ws,{className:"h-4 w-4"})}));_t.displayName=mt.displayName;const Mt=o.forwardRef(({className:t,...s},a)=>e.jsx(ft,{ref:a,className:p("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(ut,{className:"h-4 w-4"})}));Mt.displayName=ft.displayName;const Te=o.forwardRef(({className:t,children:s,position:a="popper",...l},n)=>e.jsx(vs,{children:e.jsxs(pt,{ref:n,className:p("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:a,...l,children:[e.jsx(_t,{}),e.jsx(js,{className:p("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(Mt,{})]})}));Te.displayName=pt.displayName;const Aa=o.forwardRef(({className:t,...s},a)=>e.jsx(ht,{ref:a,className:p("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));Aa.displayName=ht.displayName;const Q=o.forwardRef(({className:t,children:s,...a},l)=>e.jsxs(gt,{ref:l,className:p("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Ns,{children:e.jsx(nt,{className:"h-4 w-4"})})}),e.jsx(Ss,{children:s})]}));Q.displayName=gt.displayName;const Ea=o.forwardRef(({className:t,...s},a)=>e.jsx(xt,{ref:a,className:p("-mx-1 my-1 h-px bg-muted",t),...s}));Ea.displayName=xt.displayName;const La=`http://${window.location.hostname}:3001/auth`;function Pa(t){try{const s=`sm_saved_streams_v1_${t||"anon"}`;localStorage.removeItem(s)}catch{}}const Ua=async(t,s)=>{const a=await fetch(`${La}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:s})});if(!a.ok){const b=await a.json().catch(()=>({}));throw new Error(b&&b.message||"Failed to login")}const l=await a.json(),n=l.token,g=l.user||{username:t};sessionStorage.setItem("token",n);try{sessionStorage.setItem("user",JSON.stringify(g))}catch{}Pa(g.username)},Da=()=>{sessionStorage.removeItem("token"),sessionStorage.removeItem("user")},Oa=()=>{const t=sessionStorage.getItem("token");if(!t)return!1;try{const s=JSON.parse(atob(t.split(".")[1]));return s&&s.exp&&s.exp*1e3>Date.now()}catch{return!1}},Se=()=>{try{const t=sessionStorage.getItem("user");if(t)return JSON.parse(t);const s=sessionStorage.getItem("token");return s?JSON.parse(atob(s.split(".")[1])):null}catch{return null}},Je=()=>{try{return sessionStorage.getItem("token")}catch{return null}},Ia=Ts,_a=ks,zt=o.forwardRef(({className:t,...s},a)=>e.jsx(yt,{ref:a,className:p("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s}));zt.displayName=yt.displayName;const Ft=o.forwardRef(({className:t,children:s,...a},l)=>e.jsxs(_a,{children:[e.jsx(zt,{}),e.jsxs(bt,{ref:l,className:p("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...a,children:[s,e.jsxs($s,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(_e,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ft.displayName=bt.displayName;const Bt=({className:t,...s})=>e.jsx("div",{className:p("flex flex-col space-y-1.5 text-center sm:text-left",t),...s});Bt.displayName="DialogHeader";const Ht=o.forwardRef(({className:t,...s},a)=>e.jsx(wt,{ref:a,className:p("text-lg font-semibold leading-none tracking-tight",t),...s}));Ht.displayName=wt.displayName;const Ma=o.forwardRef(({className:t,...s},a)=>e.jsx(vt,{ref:a,className:p("text-sm text-muted-foreground",t),...s}));Ma.displayName=vt.displayName;const za=Ie("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),de=o.forwardRef(({className:t,...s},a)=>e.jsx(jt,{ref:a,className:p(za(),t),...s}));de.displayName=jt.displayName;const Vt=o.forwardRef(({className:t,...s},a)=>e.jsx(Nt,{className:p("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...s,ref:a,children:e.jsx(As,{className:p("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Vt.displayName=Nt.displayName;const Fa=Ls,Ba=Es,Wt=o.forwardRef(({className:t,...s},a)=>e.jsx(St,{className:p("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:a}));Wt.displayName=St.displayName;const Jt=o.forwardRef(({className:t,...s},a)=>e.jsxs(Ba,{children:[e.jsx(Wt,{}),e.jsx(Ct,{ref:a,className:p("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s})]}));Jt.displayName=Ct.displayName;const qt=({className:t,...s})=>e.jsx("div",{className:p("flex flex-col space-y-2 text-center sm:text-left",t),...s});qt.displayName="AlertDialogHeader";const Gt=({className:t,...s})=>e.jsx("div",{className:p("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});Gt.displayName="AlertDialogFooter";const Kt=o.forwardRef(({className:t,...s},a)=>e.jsx(Rt,{ref:a,className:p("text-lg font-semibold",t),...s}));Kt.displayName=Rt.displayName;const Xt=o.forwardRef(({className:t,...s},a)=>e.jsx(kt,{ref:a,className:p("text-sm text-muted-foreground",t),...s}));Xt.displayName=kt.displayName;const Qt=o.forwardRef(({className:t,...s},a)=>e.jsx($t,{ref:a,className:p(Fe(),t),...s}));Qt.displayName=$t.displayName;const Yt=o.forwardRef(({className:t,...s},a)=>e.jsx(Tt,{ref:a,className:p(Fe({variant:"outline"}),"mt-2 sm:mt-0",t),...s}));Yt.displayName=Tt.displayName;const ce=`${window.location.protocol}//${window.location.hostname}:3001`,Ha=["add_streams","save_lists","load_lists","download_logs","delete_streams"],Va=({isOpen:t,onClose:s})=>{const[a,l]=o.useState([]),[n,g]=o.useState({username:"",password:"",role:"user"}),{toast:b}=ze(),[w,_]=o.useState(null),k=async()=>{try{const f=sessionStorage.getItem("token"),N=await(await fetch(`${ce}/auth/users`,{headers:{Authorization:`Bearer ${f}`}})).json();l(Array.isArray(N)?N:[])}catch(f){console.error(f)}};o.useEffect(()=>{t&&k()},[t]);const $=async()=>{const f={...n,username:n.username.trim().replace(/\s+/g,"")};if(f.username.length<3)return b({title:"Username too short",description:"Min 3 characters.",variant:"destructive"});if(f.password.length<6)return b({title:"Password too short",description:"Min 6 characters.",variant:"destructive"});try{const v=sessionStorage.getItem("token"),N=await fetch(`${ce}/auth/create-user`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${v}`},body:JSON.stringify(f)});if(N.ok)b({title:"User created successfully"}),await k(),g({username:"",password:"",role:"user"});else{const L=await N.json();b({title:"Error creating user",description:L?.message,variant:"destructive"})}}catch(v){console.error(v)}},T=async(f,v,N)=>{try{const L=sessionStorage.getItem("token"),z=await fetch(`${ce}/auth/user-roles`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${L}`},body:JSON.stringify({username:f,role:v,value:N})});if(z.ok)b({title:"User role updated"}),k();else{const q=await z.json();b({title:"Error updating role",description:q?.message,variant:"destructive"})}}catch(L){console.error(L)}},A=async f=>{const v=prompt(`Enter new password for ${f}:`);if(v){if(v.length<6)return b({title:"Password too short",description:"Password must be at least 6 characters long.",variant:"destructive"});try{const N=sessionStorage.getItem("token"),L=await fetch(`${ce}/auth/update-password`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N}`},body:JSON.stringify({username:f,password:v})});if(L.ok)b({title:"Password updated successfully"});else{const z=await L.json();b({title:"Error updating password",description:z?.message,variant:"destructive"})}}catch(N){console.error(N)}}},M=async f=>{try{const v=sessionStorage.getItem("token"),N=await fetch(`${ce}/auth/delete-user/${f}`,{method:"DELETE",headers:{Authorization:`Bearer ${v}`}});if(N.ok)b({title:"User deleted successfully"}),await k();else{const L=await N.json();b({title:"Error deleting user",description:L?.message,variant:"destructive"})}}catch(v){console.error(v)}finally{_(null)}};return e.jsx(Ia,{open:t,onOpenChange:f=>!f&&s(),children:e.jsxs(Ft,{className:"sm:max-w-[700px] max-h-[85vh] overflow-y-auto",children:[e.jsx(Bt,{className:"sticky top-0 bg-background z-10",children:e.jsx(Ht,{children:"User Management"})}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("form",{onSubmit:f=>{f.preventDefault(),$()},className:"rounded-xl border p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Create User"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4 items-center",children:[e.jsx(de,{htmlFor:"new-username",className:"sm:col-span-1",children:"Username"}),e.jsx(fe,{id:"new-username",className:"sm:col-span-3",value:n.username,onChange:f=>g({...n,username:f.target.value}),placeholder:"Enter username",autoComplete:"off",required:!0,minLength:3}),e.jsx(de,{htmlFor:"new-password",className:"sm:col-span-1",children:"Password"}),e.jsx(fe,{id:"new-password",type:"password",className:"sm:col-span-3",value:n.password,onChange:f=>g({...n,password:f.target.value}),placeholder:"Minimum 6 characters",required:!0,minLength:6}),e.jsx(de,{htmlFor:"new-role",className:"sm:col-span-1",children:"Role"}),e.jsxs("select",{id:"new-role",className:"sm:col-span-3 h-10 rounded-md border bg-background px-3 text-sm",value:n.role,onChange:f=>g({...n,role:f.target.value}),children:[e.jsx("option",{value:"user",children:"user"}),e.jsx("option",{value:"admin",children:"admin"})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx(I,{type:"submit",disabled:n.username.trim().length<3||n.password.length<6,children:"Create User"})})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Users and Permissions"}),e.jsxs("div",{className:"max-h-[60vh] overflow-y-auto pr-2",children:[a.map(f=>e.jsxs("div",{className:"mb-4 p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h4",{className:"font-bold",children:[f.username," (",f.role,")"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{variant:"outline",size:"sm",onClick:()=>A(f.username),children:"Change Password"}),e.jsx(I,{variant:"destructive",size:"sm",disabled:f.role==="admin",onClick:()=>_(f.username),children:"Delete User"})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-2",children:Ha.map(v=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Vt,{id:`${f.username}-${v}`,checked:!!f.roles?.[v],onCheckedChange:N=>T(f.username,v,N),disabled:f.role==="admin"}),e.jsx(de,{htmlFor:`${f.username}-${v}`,children:v.replace(/_/g," ")})]},v))})]},f.username)),a.length===0&&e.jsx("div",{className:"text-sm text-muted-foreground p-4 border rounded-lg",children:"No users found."})]})]})]}),e.jsx(Fa,{open:!!w,onOpenChange:f=>!f&&_(null),children:e.jsxs(Jt,{children:[e.jsxs(qt,{children:[e.jsx(Kt,{children:w?`Delete ${w}?`:"Delete user?"}),e.jsx(Xt,{children:"This action cannot be undone. The user account will be permanently removed."})]}),e.jsxs(Gt,{children:[e.jsx(Yt,{children:"Cancel"}),e.jsx(Qt,{onClick:()=>w&&M(w),children:"Continue"})]})]})})]})})},Wa=Me.lazy(()=>ca(()=>import("./AllBitrateGraph-DHdJse5e.js"),__vite__mapDeps([0,1,2]))),oe=["#8884d8","#82ca9d","#ffc658","#ff7300","#387908","#ff0000","#0088fe","#00c49f","#ffbb28","#ff8042","#00cfff","#ff00ff"],Ja=()=>{const t="http://192.168.1.98:3001".replace(/\/+$/,"")||`${window.location.protocol}//${window.location.hostname}:3001`,s=o.useRef(new Set),a=o.useCallback((r,i)=>r.map(u=>{const m={time:u.time};return m[i]=typeof u.bitrate=="number"?u.bitrate:0,m[`${i}__est`]=!!u.estimated,m}),[]),l=o.useCallback(async r=>{try{await fetch(`${t}/start-stream`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({streamUrl:r.url,streamName:r.name,resolution:r.resolution})}).catch(()=>null);const i=await fetch(`${t}/bitrate-history`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({streamUrl:r.url,maxSamples:1e4})});if(i.ok){const u=await i.json(),m=Array.isArray(u.history)?u.history:[];if(m.length>0){const c=a(m,r.id);te(d=>{const y=[...d,...c],j={};y.forEach(S=>{const O=Math.round(S.time/1e3);j[O]={...j[O]||{time:S.time},...S}});const h=Object.values(j).sort((S,O)=>S.time-O.time),R=Date.now()-1440*60*1e3;return h.filter(S=>S.time>=R)})}}}catch(i){console.debug("Failed to start/fetch history for",r.id,i)}finally{s.current.add(r.id)}},[t,a]),[n,g]=o.useState([]),b=r=>`sm_saved_streams_v1_${r||"anon"}`,w=o.useCallback((r,i)=>r.map(u=>{const m={time:u.time};return n.forEach(c=>{if(c.id===i){m[c.id]=typeof u.bitrate=="number"?u.bitrate:0;const d=m;d[`${c.id}__est`]=!!u.estimated}else{m[c.id]=0;const d=m;d[`${c.id}__est`]=!1}}),m}),[n]),[_,k]=o.useState(""),[$,T]=o.useState(""),[A,M]=o.useState("480p"),[f,v]=o.useState(new Date),[N,L]=o.useState([]),[z,q]=o.useState({}),[H,B]=o.useState("4-2"),[P,te]=o.useState([]),[pe,G]=o.useState({}),[he,ge]=o.useState({}),[Ae,xe]=o.useState([]),ne=r=>String(r||"").replace(/[<>:"/\\|?*]/g,"_"),[C,ie]=o.useState(null),[ye,be]=o.useState(!1),we=o.useMemo(()=>{const r=[];for(const i of Ae){const u=n.find(c=>ne(c.name)===i.stream),m=u?u.id:i.stream;u?u.name:i.stream,r.push({key:m,label:`${i.file}`,filename:i.file})}if(C?.role!=="admin"){const i=new Set(n.map(u=>u.id));return r.filter(u=>i.has(u.key))}return r},[Ae,n,C]);o.useEffect(()=>{const r=Se();if(r&&r.role==="admin"){const i=new Proxy({},{get:function(){return!0}});ie({...r,roles:i})}else ie(r)},[]),o.useEffect(()=>{let r=!0;const i="http://192.168.1.98:3001".replace(/\/+$/,"")||`${window.location.protocol}//${window.location.hostname}:3001`,u=async()=>{try{const c=await fetch(`${i}/api/logs/all-files`);if(!r)return;if(c.ok){const d=await c.json();if(Array.isArray(d)){xe(d);return}}xe([])}catch{r&&xe([])}};u();const m=setInterval(u,1e4);return()=>{r=!1,clearInterval(m)}},[]),o.useEffect(()=>{console.debug("allBitrateHistory updated (length):",P.length)},[P]);const[se,ve]=o.useState("all"),{toast:U}=ze(),ae=o.useMemo(()=>{if(!P||P.length===0)return 0;const r=P[P.length-1];if(!r)return 0;let i=0;return n.forEach(u=>{const m=r[u.id];typeof m=="number"&&isFinite(m)&&(i+=m)}),Math.round(i*100)/100},[P,n]),V=o.useCallback(async r=>{const i=r??n,u=Je();let m=C?.username??Se()?.username??void 0;if(!m&&u)try{const c=JSON.parse(atob(u.split(".")[1]));c&&typeof c.username=="string"&&(m=c.username)}catch{}try{const c=b(m&&m.length>0?m:void 0);localStorage.setItem(c,JSON.stringify(i)),console.debug(`saveStreams: wrote ${i.length||0} items to localStorage key='${c}' user='${m||"anon"}'`)}catch{}if(u&&!(!W.current&&!r))try{console.debug(`saveStreams: POST /api/streams user='${m||"unknown"}' items=${i&&i.length||0}`),await fetch(`${t}/api/streams`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify(i)})}catch(c){console.debug("Failed to save streams to server",c)}},[n,C,t]),W=o.useRef(!1);o.useEffect(()=>{V()},[V]),o.useEffect(()=>{(async()=>{try{const i=Je(),u=Se();if(console.debug("fetchStreams: token present?",!!i,"decodedUser=",u),i){try{const m=await fetch(`${t}/api/streams`,{headers:{Authorization:`Bearer ${i}`}});if(m.ok){const c=await m.json();if(console.debug("fetchStreams: /api/streams returned",Array.isArray(c)?c.length:typeof c),Array.isArray(c)&&c.length>0){g(c),setTimeout(()=>c.forEach(d=>l(d)),20);return}}}catch(m){console.warn("Failed to fetch /api/streams, will try /api/active-streams",m)}try{const m=await fetch(`${t}/api/active-streams`);if(m.ok){const c=await m.json();if(Array.isArray(c)&&c.length>0){const d=c.map((y,j)=>{const h=y;return{id:h.streamId||`server-${j}`,name:h.streamName||h.streamId||`Stream ${j+1}`,url:h.sourceUrl||h.streamUrl||h.hlsUrl||"",color:oe[j%oe.length],resolution:h.resolution||"480p"}});g(d),setTimeout(()=>d.forEach(y=>l(y)),20);return}}}catch(m){console.warn("Failed to fetch active streams",m)}}try{const m=C||Se(),c=b(m?.username),d=m?.username?localStorage.getItem(c):localStorage.getItem(c)||localStorage.getItem(b());if(d){const y=JSON.parse(d);if(Array.isArray(y)&&y.length>0){const j=y;g(j),setTimeout(()=>j.forEach(h=>l(h)),20);return}}g([])}catch(m){console.error("Failed to load streams from localStorage",m),g([])}}catch(i){console.error("Failed to load streams from server or localStorage",i),g([])}finally{W.current=!0}})()},[t,C,l]),o.useEffect(()=>()=>{},[t]);const re=o.useRef(!0);o.useEffect(()=>{re.current&&(!n||n.length===0||(re.current=!1,n.forEach(r=>{ge(i=>({...i,[r.id]:(i[r.id]||0)+1})),setTimeout(()=>l(r),10)})))},[n,l]),o.useEffect(()=>{n.forEach(r=>{s.current.has(r.id)||l(r)})},[n,l]),o.useEffect(()=>{const r=setInterval(()=>v(new Date),1e3);return()=>clearInterval(r)},[]),o.useEffect(()=>{n.forEach(r=>{s.current.has(r.id)||l(r)})},[n,l]),o.useEffect(()=>{const r=setInterval(()=>v(new Date),1e3);return()=>clearInterval(r)},[]);const Y=o.useCallback(r=>{g(i=>{const u=i.filter(m=>m.id!==r);return te(m=>m.map(d=>{const y={...d};return delete y[r],y}).filter(d=>Object.keys(d).length>1)),s.current.delete(r),V(u),u})},[V]),K=o.useCallback((r,i)=>{console.debug(`handleBitrateUpdate: ${r} -> ${i} Mbps`);const u=Date.now(),m=u-1440*60*1e3;te(c=>{const d=c.length>0?c[c.length-1]:null,y={time:u};return n.forEach(h=>{if(h.id===r)typeof i=="number"?(y[h.id]=i,y[`${h.id}__est`]=!1):(y[h.id]=0,y[`${h.id}__est`]=!1);else if(d&&d[h.id]!==void 0){y[h.id]=d[h.id];const R=d;y[`${r}__est`]=!!R[`${r}__est`]}else y[h.id]=0,y[`${r}__est`]=!1}),[...c,y].filter(h=>h.time>=m)})},[n]);o.useEffect(()=>{const i=`${("http://192.168.1.98:3001".replace(/\/+$/,"")||`${window.location.protocol}//${window.location.hostname}:3001`).replace(/\/+$/,"")}/events`,u=new EventSource(i),m=c=>{try{const d=JSON.parse(c.data);if(d.type==="bitrate"){let y=d.streamId;const j=d.sourceUrl||d.streamUrl||d.source_url||null;if(j){const R=F(j),S=n.find(O=>F(O.url)===R);S&&(y=S.id)}const h=typeof d.bitrate=="number"?d.bitrate:0;K(y,h),G(R=>{const S=R[y]||0;return typeof h=="number"&&h>0?{...R,[y]:0}:{...R,[y]:S+1}})}else if(d.type==="bitrate-history"){const y=Array.isArray(d.history)?d.history:[];if(y.length>0){const j=d.sourceUrl||d.streamUrl||d.source_url||null;let h=d.streamId;if(j){const S=F(j),O=n.find(Z=>F(Z.url)===S);O&&(h=O.id)}const R=w(y,h);te(S=>{const O=[...S,...R],Z={};O.forEach(ee=>{Z[ee.time]={...Z[ee.time]||{},...ee}});const Le=Object.values(Z).sort((ee,es)=>ee.time-es.time),Zt=Date.now()-1440*60*1e3;return Le.filter(ee=>ee.time>=Zt)})}}else if(d.type==="started"){let y=d.streamId;const j=d.sourceUrl||d.streamUrl||d.source_url||null;if(j){const h=F(j),R=n.find(S=>F(S.url)===h);R&&(y=R.id)}ge(h=>({...h,[y]:(h[y]||0)+1})),G(h=>({...h,[y]:0}))}else if(d.type==="stopped"){let y=d.streamId;const j=d.sourceUrl||d.streamUrl||d.source_url||null;if(j){const h=F(j),R=n.find(S=>F(S.url)===h);R&&(y=R.id)}try{K(y,0)}catch(h){console.debug("handleBitrateUpdate failed",h)}G(h=>({...h,[y]:(h[y]||0)+1}))}}catch(d){console.debug("SSE parse error",d)}};return u.addEventListener("message",m),u.addEventListener("error",c=>console.debug("SSE error",c)),()=>{u.removeEventListener("message",m),u.close()}},[K,n,w]);const F=r=>r.trim().toLowerCase().replace(/\/$/,""),Ee=r=>{try{const i=r.trim().toLowerCase();return i.startsWith("http://")||i.startsWith("https://")||i.startsWith("rtmp://")||i.startsWith("rtsp://")||i.startsWith("udp://")||i.includes(".m3u8")}catch{return!1}},je=()=>{const r=$.trim();if(!r||!Ee(r)){U({title:"Invalid Stream URL",description:"Enter a valid HLS (.m3u8), RTMP, RTSP, HTTP, or UDP URL",variant:"destructive"});return}if(n.length>=12){U({title:"Limit Reached",description:"You can add up to 12 streams",variant:"destructive"});return}const i=F(r);if(n.some(d=>F(d.url)===i)){U({title:"Duplicate Stream",description:"This stream URL is already added",variant:"destructive"});return}const u=_.trim()||`Stream ${n.length+1}`,m={id:`stream-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:u,url:r,color:oe[n.length%oe.length],resolution:A},c=[...n,m];g(c),setTimeout(()=>l(m),10),V(c),k(""),T(""),U({title:"Stream Added",description:`Stream added successfully (${c.length}/12)`})},x=()=>{const r=prompt("Enter a name for your stream list:");if(r&&r.trim()!==""){const i=`ListName:${r.trim()}
`+n.map(d=>`${d.name};${d.url}`).join(`
`),u=new Blob([i],{type:"text/plain;charset=utf-8"}),m=URL.createObjectURL(u),c=document.createElement("a");c.href=m,c.download=`${r.trim()}.txt`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(m),U({title:"List Saved to File",description:`Stream list '${r.trim()}' saved successfully.`})}},E=r=>{const i=r.target.files?.[0];if(!i)return;const u=new FileReader;u.onload=m=>{const c=m.target?.result;if(c){const d=c.split(/\r?\n/).filter(Boolean);let y="",j=d;d[0].startsWith("ListName:")&&(y=d[0].substring(9).trim(),j=d.slice(1),U({title:"Loaded List Name",description:`Stream list: ${y}`}));const h=j.map((R,S)=>{const O=R.split(";"),Z=O.length===2?O[0].trim():`Stream ${S+1}`,Le=O.length===2?O[1].trim():O[0].trim();return{id:`${Date.now()}-${S}`,name:Z,url:Le,color:oe[S%oe.length]||"#8884d8",resolution:""}}).filter(R=>R.url);g(h),V(h),setTimeout(()=>h.forEach(R=>l(R)),20),U({title:"List Loaded from File",description:`Loaded ${h.length} stream(s) from file.`})}},u.readAsText(i),r.target.value=""},J=r=>{r.key==="Enter"&&je()},D=H==="3-2"?"grid-cols-1 sm:grid-cols-2 xl:grid-cols-3":H==="4-2"?"grid-cols-1 sm:grid-cols-2 xl:grid-cols-4":H==="6-2"?"grid-cols-1 sm:grid-cols-2 xl:grid-cols-6":"grid-cols-1 sm:grid-cols-2 xl:grid-cols-4",X=(r,i)=>{g(u=>{const m=u.map(d=>d.id===r?{...d,resolution:i}:d),c=m.find(d=>d.id===r);return c&&fetch(`${t}/restart-stream`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({streamUrl:c.url,streamName:c.name,resolution:i})}).then(d=>{d.ok?U({title:"Resolution Changed",description:`Stream ${c.name} is restarting with ${i}.`}):U({title:"Error",description:"Failed to change resolution.",variant:"destructive"})}),m})};return e.jsxs("div",{className:"space-y-6 p-2",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[e.jsx("div",{className:"space-y-6 mt-[-10px]",children:e.jsxs("div",{className:"flex items-center justify-start space-x-3 mb-2",children:[e.jsx("img",{src:"/logo.png",alt:"StreamWall Logo",className:"h-14 w-14 mt-[-8px]"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-primary text-justify bg-clip-text text-white",children:"StreamWall"}),e.jsx("p",{className:"text-muted-foreground text-justify",children:"All Streams. One Wall."}),e.jsx("p",{className:"text-xs text-muted-foreground text-justify",children:"Dev. By TMC MCR"})]})]})}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("p",{className:"text-3xl font-semibold text-foreground mt-[-2px]",children:[f.toLocaleTimeString([],{hour12:!1}),e.jsx("p",{children:f.toISOString().slice(0,10)}),C&&e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Welcome, ",C.username]})]})}),e.jsx("div",{className:"lg:w-3/5 pt-3",children:e.jsx(me,{className:"bg-transparent-card border-none shadow-none w-full lg:w-auto",children:e.jsxs(ke,{className:"space-y-4",children:[e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(fe,{id:"stream-name",type:"text",placeholder:"Stream Name",value:_,onChange:r=>k(r.target.value),className:"w-1/4 bg-input border-stream-border focus:ring-primary"}),e.jsx(fe,{id:"stream-url",type:"url",placeholder:"Enter a stream URL : HTTP HLS (.m3u8), RTMP, RTSP or UDP.",value:$,onChange:r=>T(r.target.value),onKeyDown:J,className:"w-3/5 bg-input border-stream-border focus:ring-primary"}),e.jsxs(De,{value:A,onValueChange:M,children:[e.jsx($e,{className:"w-[120px] bg-input border-stream-border",children:e.jsx(Oe,{placeholder:"Ratio"})}),e.jsxs(Te,{children:[e.jsx(Q,{value:"480p",children:"480p"}),e.jsx(Q,{value:"720p",children:"720p"})]})]})]})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[(!C||C.roles.add_streams)&&e.jsxs(I,{onClick:je,disabled:n.length>=12,className:"bg-gradient-primary hover:shadow-glow transition-all",children:[e.jsx(Ps,{className:"h-4 w-4 mr-2"})," Add"]}),(!C||C.roles.save_lists)&&e.jsxs(I,{onClick:x,variant:"outline",disabled:n.length===0,children:[e.jsx(Us,{className:"h-4 w-4 mr-2"})," Save List"]}),(!C||C.roles.load_lists)&&e.jsxs("label",{htmlFor:"load-list-file",className:"inline-block",children:[e.jsx("input",{id:"load-list-file",type:"file",accept:".txt",style:{display:"none"},onChange:E}),e.jsx(I,{asChild:!0,variant:"outline",children:e.jsx("span",{children:"Load File"})})]}),e.jsxs("div",{className:"flex items-center ml-auto",children:[e.jsx("label",{htmlFor:"grid-layout",className:"mr-2 text-sm text-muted-foreground",children:"Grid Layout:"}),e.jsxs(De,{value:H,onValueChange:r=>B(r),children:[e.jsx($e,{className:"w-[140px] bg-input border-stream-border",children:e.jsx(Oe,{placeholder:"Layout"})}),e.jsxs(Te,{children:[e.jsx(Q,{value:"3-2",children:"3 columns"}),e.jsx(Q,{value:"4-2",children:"4 columns"}),e.jsx(Q,{value:"6-2",children:"6 columns"})]})]})]}),(!C||C.roles.download_logs)&&e.jsxs(ja,{children:[e.jsx(Na,{asChild:!0,children:e.jsxs(I,{variant:"outline",disabled:we.length===0,children:[e.jsx(Ds,{className:"h-4 w-4 mr-2"})," Download Logs"]})}),e.jsx(Ot,{align:"end",children:we.map(r=>e.jsx(It,{onSelect:()=>{window.open(`${t}/download-log/${r.key}/${r.filename}`,"_blank")},children:r.label},`${r.key}-${r.filename}`))})]}),C?.role==="admin"&&e.jsx(I,{variant:"outline",size:"icon",onClick:()=>be(!0),children:e.jsx(Os,{className:"h-4 w-4"})}),C&&e.jsx(I,{variant:"outline",size:"icon",title:"Logout",onClick:async()=>{await Da(),ie(null),window.location.href="/login"},children:e.jsx(Is,{className:"h-4 w-4"})})]})]})})})]}),C?.role==="admin"&&e.jsx(Va,{isOpen:ye,onClose:()=>be(!1)}),e.jsx("div",{className:"lg:col-span-3",children:n.length===0?e.jsx(me,{className:"bg-gradient-card border-stream-border",children:e.jsxs(ke,{className:"flex flex-col items-center justify-center py-16 text-center",children:[e.jsx(_s,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No streams active"}),e.jsx("p",{className:"text-muted-foreground max-w-md",children:"Add your first stream URL above to start monitoring. Supports up to 12 concurrent streams."})]})}):e.jsx("div",{className:`grid ${D} gap-2`,children:n.map(r=>(P.filter(i=>typeof i[r.id]=="number").map(i=>({time:i.time,bitrate:i[r.id]})),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute bottom-2 right-2 z-20 flex items-center gap-2",children:e.jsx(I,{variant:"destructive",size:"sm",onClick:async()=>{try{const i={streamUrl:r.url,streamName:r.name,resolution:r.resolution},u=await fetch(`${t}/restart-stream`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(u.ok){const m=await u.json().catch(()=>({}));try{await fetch(`${t}/start-stream`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({streamUrl:r.url,streamName:r.name,resolution:r.resolution})}).catch(()=>null)}catch(c){}ge(c=>({...c,[r.id]:(c[r.id]||0)+1})),G(c=>({...c,[r.id]:0})),U({title:"Restarted",description:`Restart requested for ${r.name}`})}else{const m=await u.text().catch(()=>"restart failed");U({title:"Restart Failed",description:m,variant:"destructive"})}}catch(i){console.error("Restart request failed",i),U({title:"Restart Error",description:String(i),variant:"destructive"})}},children:e.jsx(Ms,{className:"h-4 w-4"})})}),e.jsx(va,{streamId:r.id,streamName:r.name,streamUrl:r.url,resolution:r.resolution,onResolutionChange:X,onRemove:async()=>{if(window.confirm(`Are you sure you want to remove the stream "${r.name}"?`)){try{(await fetch(`${t}/stop-stream`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({streamId:r.id})})).ok||await fetch(`${t}/stop-stream`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({streamUrl:r.url})}).catch(()=>null)}catch(u){console.debug("stop-stream request failed",u)}Y(r.id),U({title:"Stream Removed",description:`${r.name} has been removed.`})}},reloadSignal:he[r.id]||0,onBitrateUpdate:K,canRemove:!C||C.roles.delete_streams,status:(pe[r.id]||0)===0?"online":((pe[r.id]||0)<3,"offline")})]},r.id)))})}),n.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-baseline gap-3",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Real-time Bitrate Monitor: "}),e.jsxs("span",{className:"text-lg font-semibold text-blue-500",children:[ae," Mbps"]})]}),e.jsxs(De,{value:se,onValueChange:ve,children:[e.jsx($e,{className:"w-[240px] bg-input border-stream-border",children:e.jsx(Oe,{placeholder:"Select a stream to display"})}),e.jsxs(Te,{children:[e.jsx(Q,{value:"all",children:"All Streams"}),n.map(r=>e.jsx(Q,{value:r.id,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 rounded-full mr-2",style:{backgroundColor:r.color}}),r.name]})},r.id))]})]})]}),e.jsx(me,{className:"bg-gradient-card border-stream-border",children:e.jsx(ke,{className:"pt-2",children:e.jsx(Me.Suspense,{fallback:e.jsx("div",{style:{height:600,display:"flex",alignItems:"center",justifyContent:"center",color:"#aaa"},children:"Loading chart"}),children:e.jsx(Wa,{data:P,streams:se==="all"?n:n.filter(r=>r.id===se),timeDomain:[f.getTime()-1440*60*1e3,f.getTime()],height:600})})})})]})]})},qa=()=>e.jsx(Ja,{}),Ga=()=>{const t=zs();return o.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),e.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),e.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Ka=()=>{const[t,s]=o.useState(""),[a,l]=o.useState(""),[n,g]=o.useState("");Fs();const b=async w=>{w.preventDefault(),g("");try{await Ua(t,a),window.location.href="/"}catch(_){g(_.message||"Failed to login")}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#0d1620]",children:e.jsxs("div",{className:"relative w-[420px]",children:[e.jsx("div",{className:"absolute -top-12 -left-10 h-[74px] w-[370px]",children:e.jsxs("div",{className:"relative h-full w-full",children:[e.jsx("div",{className:"absolute inset-0",style:{backgroundColor:"#cfc79a",transform:"skewX(-24deg)"}}),e.jsx("div",{className:"absolute top-[18px] left-[208px] h-[52px] w-[185px]",style:{backgroundColor:"#1b3240",opacity:.9,transform:"skewX(-24deg)"}}),e.jsx("div",{className:"absolute top-[8px] left-[250px] h-[48px] w-[170px]",style:{backgroundColor:"#4b7a78",opacity:.45,transform:"skewX(-24deg)"}}),e.jsx("span",{className:"absolute left-[82px] top-1/2 -translate-y-1/2",style:{color:"#21313a",fontWeight:700,fontSize:"14px",letterSpacing:"0.32em"},children:"USER LOGIN"})]})}),e.jsx("div",{className:"w-full bg-[#111827] rounded-2xl shadow-2xl p-8 pt-16",children:e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 bg-[#1f2937] rounded px-3 py-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-cyan-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.121 17.804A9 9 0 1112 21a9 9 0 01-6.879-3.196z"})}),e.jsx("input",{id:"username",type:"text",value:t,onChange:w=>s(w.target.value),required:!0,placeholder:"Username",className:"flex-1 bg-transparent text-white placeholder-gray-400 outline-none"})]}),e.jsxs("div",{className:"flex items-center gap-3 bg-[#1f2937] rounded px-3 py-2",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-cyan-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 11c-1.657 0-3 1.343-3 3v1h6v-1c0-1.657-1.343-3-3-3z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 11V9a5 5 0 10-10 0v2"})]}),e.jsx("input",{id:"password",type:"password",value:a,onChange:w=>l(w.target.value),required:!0,placeholder:"Password",className:"flex-1 bg-transparent text-white placeholder-gray-400 outline-none"})]}),n&&e.jsx("p",{className:"text-sm text-red-400 text-center",children:n}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"w-full py-2 bg-cyan-500 text-white font-semibold rounded shadow hover:bg-cyan-600",children:"LOGIN"})})]})})]})})},Xa=()=>Oa()?e.jsx(Bs,{}):e.jsx(Hs,{to:"/login"}),Qa=new Vs,Ya=()=>e.jsx(Ws,{client:Qa,children:e.jsxs(oa,{children:[e.jsx(aa,{}),e.jsx(ra,{}),e.jsx(Js,{children:e.jsxs(qs,{children:[e.jsx(Ne,{path:"/login",element:e.jsx(Ka,{})}),e.jsx(Ne,{element:e.jsx(Xa,{}),children:e.jsx(Ne,{path:"/",element:e.jsx(qa,{})})}),e.jsx(Ne,{path:"*",element:e.jsx(Ga,{})})]})})]})});Gs.createRoot(document.getElementById("root")).render(e.jsx(Ya,{}));
